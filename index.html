---
layout: page
title: 'POC'
---

<h1>Bing</h1>
Just understanding what is possible.

<table style="width: 100%;" id="results"></table>

<script type="text/javascript">

  var query = getUrlVar('query');
  var token = getUrlVar('token');

  url = 'https://api.cognitive.microsoft.com/bing/v7.0/search?q=' + query  + '&count=25';

	var response = $.ajax({
     url: url,
     method: "get",
     headers: {
      'Ocp-Apim-Subscription-Key': token
     },
     success:function(response){
         results = response.webPages.value;
         for (i = 0; i < results.length; i++) {
           var name = results[i].name;
           var url = results[i].url;
           var snippet = results[i].snippet;
           var tr = document.createElement("tr");
           var td = document.createElement("td");
           var a = document.createElement("a");
           a.setAttribute("href", url);
           var t = document.createTextNode(name + ' - ' + snippet);
           a.appendChild(t);
           td.appendChild(a);
           tr.appendChild(td);
           document.getElementById('results').appendChild(td);
         }
      },
      error: function(XMLHttpRequest, textStatus, errorThrown) {
          console.log("Status: " + textStatus);
          console.log("Error: " + errorThrown);
      }
  });

</script>
